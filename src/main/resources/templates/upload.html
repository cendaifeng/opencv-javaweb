<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <link href="/static/asserts/css/bootstrap.min.css" th:href="@{/webjars/bootstrap/4.5.2/css/bootstrap.min.css}" rel="stylesheet">
    <link href="/static/asserts/css/signin.css" th:href="@{/asserts/css/signin.css}" rel="stylesheet">
    <title>UPLOAD img</title>
</head>
<body>
<form method="post" action="/upload" enctype="multipart/form-data">
<!--    <input type="file" name="file" id="upload_file"><br/>-->
<!--    <input type="submit" value="提交">-->
</form>
<form id="upload_file" enctype="multipart/form-data">
    <p>请选择要上传的文件：</p>
    <!--只能选择单个个文件-->
    <p><input type="file" name="file" /></p>
    <!--同时选择多个文件-->
    <p><input type="file" name="file" multiple="multiple" value="批量处理" /></p>
    <p><input id="submit_btn" type="button" class="btn" value="上传" /></p>
</form>
</body>
<script src="/static/asserts/js/jquery-3.2.1.slim.min.js" th:src="@{/webjars/jquery/3.5.1/jquery.min.js}"></script>
<script src="/static/asserts/js/bootstrap.min.js" th:src="@{/webjars/bootstrap/4.5.2/js/bootstrap.min.js}"></script>
<script th:inline="javascript">

    $("#submit_btn").click(function () {
        $.ajax({
            type: 'post',
            url: "/upload",
            dataType:'json',
            async: false,
            data: new FormData($("#upload_file")[0]),
            processData : false,  // 禁止去处理发送的数据，对data参数进行序列化处理
            contentType : false,  // 禁止去设置Content-Type请求头
            success: function (res) {
            },
            error: function (e) {
            }
        })
    });

</script>
</html>